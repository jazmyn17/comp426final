(this.webpackJsonpram=this.webpackJsonpram||[]).push([[0],{22:function(e,t,s){"use strict";s.r(t);var a=s(19),i=s(2),n=s.n(i),r=s(5),o=s(15),c=s(16),h=s(21),u=s(20),l=s(3),d=s(17),f=s.n(d),m=s(6),v=s.n(m),p=s(18),b=s.n(p),w=(s(46),s(0)),S=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).audio=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio1=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio2=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio3=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio4=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.audio5=new Audio("http://www.stdimension.org/MediaLib/effects/computer/federation/keyok4.wav"),a.level_counter=1,a.gameIsStarted=!1,a.getFact=!0,a.soundON=!0,a.state={colors:["r","g","y","b","o","p"],sequence:[],userInput:[],level:1,isShowingSequence:!1,isPlaying:!1,gameStarted:!1,gameOver:!1,flash:["","","","","",""],showShareOptions:!1},a}return Object(c.a)(s,[{key:"renderColors",value:function(e){var t=this;return Object(w.jsx)("button",{id:"colorButton",className:[this.state.colors[e],this.state.flash[e]].join(" "),disabled:!1===this.state.isPlaying,onClick:function(){return t.handleClick(e)}})}},{key:"CreateSequence",value:function(){for(var e=0;e<50;e++){var t=Math.floor(6*Math.random());this.state.sequence[e]=t}}},{key:"startGame",value:function(){this.CreateSequence(),this.setState({gameStarted:!0}),this.gameIsStarted=!0,this.playSequence()}},{key:"playSequence",value:function(){this.setState({userInput:[]});var e=this.state.sequence.slice(0,this.level_counter);this.flashColors(e)}},{key:"flashColors",value:function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a=0;case 2:if(!(a<t.length)){e.next=15;break}if(!1!==this.gameIsStarted){e.next=6;break}return this.restartGame(),e.abrupt("break",15);case 6:return e.next=8,s(500);case 8:return 0===t[a]?(this.soundON&&this.audio.play(),this.setState({flash:["active","","","","",""]})):1===t[a]?(this.soundON&&this.audio1.play(),this.setState({flash:["","active","","","",""]})):2===t[a]?(this.soundON&&this.audio2.play(),this.setState({flash:["","","active","","",""]})):3===t[a]?(this.soundON&&this.audio3.play(),this.setState({flash:["","","","active","",""]})):4===t[a]?(this.soundON&&this.audio4.play(),this.setState({flash:["","","","","active",""]})):(this.soundON&&this.audio5.play(),this.setState({flash:["","","","","","active"]})),e.next=11,s(500);case 11:this.setState({flash:["","","","","",""]});case 12:a++,e.next=2;break;case 15:this.setState({isShowingSequence:!1}),this.setState({isPlaying:!0});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){0===e?this.soundON&&this.audio.play():1===e?this.soundON&&this.audio1.play():2===e?this.soundON&&this.audio2.play():3===e?this.soundON&&this.audio3.play():4===e?this.soundON&&this.audio4.play():this.soundON&&this.audio5.play();var t=this.state.sequence.slice(0,this.level_counter),s=[].concat(Object(a.a)(this.state.userInput),[e]);this.setState({userInput:s});for(var i=0;i<s.length;i++){if(s[i]!==t[i])return this.setState({gameOver:!0}),void this.gameIsOver();i+1===s.length&&s.length===t.length&&(this.setState({level:this.state.level+1}),this.level_counter++,this.setState({isShowingSequence:!0}),this.setState({isPlaying:!1}),this.playSequence())}}},{key:"gameIsOver",value:function(){this.setState({gameStarted:!1}),this.setState({isPlaying:!1}),this.gameIsStarted=!1,this.getRandomNumberFact(),this.setState({showShareOptions:!0})}},{key:"getRandomNumberFact",value:function(){!0===this.getFact&&(v.a.get("http://numbersapi.com/"+this.state.level+"/trivia?notfound=floor&fragment",(function(e){v()(".randomNumberFact").text(e)})),this.getFact=!1)}},{key:"shareToTwitter",value:function(){var e=Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="I made it to level "+this.state.level+" in Repeat After Me! See if you can beat me.",e.next=3,b()({method:"post",url:"https://comp426-1fa20.cs.unc.edu/a09/tweets",withCredentials:!0,data:{body:t}});case 3:e.sent,this.setState({showShareOptions:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restartGame",value:function(){this.setState({colors:["r","g","y","b","o","p"],sequence:[],userInput:[],level:1,isShowingSequence:!1,isPlaying:!1,gameStarted:!1,gameOver:!1,flash:["","","","","",""],showShareOptions:!1}),this.level_counter=1,this.gameIsStarted=!1,this.getFact=!0}},{key:"render",value:function(){var e,t=this;e=!0===this.state.gameOver?"Game Over.":"Level "+this.state.level;this.state.level;return Object(w.jsxs)("div",{className:"game",children:[Object(w.jsx)("iframe",{class:"timeAndDate",src:"https://free.timeanddate.com/clock/i7smqhie/n179/fcfff/tct/pc000/tt0/tw0/tm1/tb4",frameborder:"0",width:"87",height:"34",allowtransparency:"true"}),Object(w.jsx)("h1",{className:"title",children:"Repeat After Me"}),Object(w.jsx)("h2",{className:"instructions",children:"Repeat the pattern that flashes!"}),Object(w.jsx)("h2",{className:"level",children:e}),Object(w.jsxs)("div",{className:"game-board",children:[Object(w.jsxs)("div",{class:"row",children:[this.renderColors(0),this.renderColors(1)]}),Object(w.jsxs)("div",{class:"middle",children:[this.renderColors(2),this.renderColors(3)]}),Object(w.jsxs)("div",{class:"row",children:[this.renderColors(4),this.renderColors(5)]})]}),Object(w.jsx)("button",{className:"start",onClick:function(){return t.startGame()},disabled:!0===this.state.gameStarted||!0===this.state.gameOver,children:"Start"}),Object(w.jsx)("button",{className:"reset",onClick:function(){return t.restartGame()},children:"Reset"}),Object(w.jsx)("button",{className:"sound",onClick:function(){return t.soundON=!t.soundON},children:"Sound"}),Object(w.jsxs)("div",{class:"factStart",hidden:this.getFact,children:["You made it to level "+this.state.level+". Fun Fact: This is the same number as "," ",Object(w.jsx)("span",{class:"randomNumberFact"})]}),Object(w.jsx)("div",{class:"shareResults",children:Object(w.jsx)("button",{className:"share",hidden:!1===this.state.showShareOptions,onClick:function(){return t.shareToTwitter()},children:"Share To Twitter"})})]})}}]),s}(l.Component);f.a.render(Object(w.jsx)(S,{}),document.getElementById("root"))},46:function(e,t,s){}},[[22,1,2]]]);
//# sourceMappingURL=main.2c2602f1.chunk.js.map